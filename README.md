# 스프링 프레임워크 학습 (토비의 스프링 3.1)


## 1장 오브젝트와 의존관계
https://github.com/RedRabbit-88/SpringFramework/wiki/1%EC%9E%A5-%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8%EC%99%80-%EC%9D%98%EC%A1%B4%EA%B4%80%EA%B3%84#1%EC%9E%A5-%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8%EC%99%80-%EC%9D%98%EC%A1%B4%EA%B4%80%EA%B3%84


## 2장 테스트
https://github.com/RedRabbit-88/SpringFramework/wiki/2%EC%9E%A5-%ED%85%8C%EC%8A%A4%ED%8A%B8#2%EC%9E%A5-%ED%85%8C%EC%8A%A4%ED%8A%B8


## 3장 템플릿
https://github.com/RedRabbit-88/SpringFramework/wiki/3%EC%9E%A5-%ED%85%9C%ED%94%8C%EB%A6%BF#3%EC%9E%A5-%ED%85%9C%ED%94%8C%EB%A6%BF


## 4장 예외
https://github.com/RedRabbit-88/SpringFramework/wiki/4%EC%9E%A5-%EC%98%88%EC%99%B8#4%EC%9E%A5-%EC%98%88%EC%99%B8


## 5장 서비스 추상화

https://github.com/RedRabbit-88/SpringFramework/wiki/5%EC%9E%A5-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%B6%94%EC%83%81%ED%99%94#5%EC%9E%A5-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%B6%94%EC%83%81%ED%99%94


## 6장 AOP
https://github.com/RedRabbit-88/SpringFramework/wiki/6%EC%9E%A5-AOP#6%EC%9E%A5-aop


## 7장 스프링 핵심 기술의 응용
https://github.com/RedRabbit-88/SpringFramework/wiki/7%EC%9E%A5-%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EA%B8%B0%EC%88%A0%EC%9D%98-%EC%9D%91%EC%9A%A9#7%EC%9E%A5-%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EA%B8%B0%EC%88%A0%EC%9D%98-%EC%9D%91%EC%9A%A9

## 8장 스프링이란 무엇인가?

### 8.1 스프링의 정의

* 스프링이란?
<br>자바 엔터프라이즈 개발을 편하게 해주는 오픈소스 경량급 애플리케이션 프레임워크

* 애플리케이션 프레임워크
  * 특정 계층, 기술, 업무 분야에 국한되지 않고 애플리케이션 전 영역을 포관하는 범용적인 프레임워크
  * 핵심 기술에 담긴 프로그래밍 모델을 일관되게 적용
  * 엔터프라이즈 애플리케이션 전 계층과 영역에 전략과 기능을 제공
  * 애플리케이션을 편리하게 개발 가능

* 경량급
  * EJB의 경우 무겁고 복잡하지만 스프링은 상대적으로 가볍다.
  * 가볍고 단순한 환경에서도 엔터프라이즈 개발의 고급 기술을 대부분 사용 가능

* 자바 엔터프라이즈 개발을 편하게
  * 개발자가 복잡한 로우레벨 기술에 신경쓰지 않아도 됨.
  * 애플리케이션의 핵심인 비즈니스 로직을 빠르고 효과적으로 구현 가능
  * 초기에 스프링 기본 설정과 적용 기술만 잘 선택하면 이후 개발자가 스프링 관련 코드나 API를 신경쓰지 않아도 됨.


### 8.2 스프링의 목적

### 8.2.1 엔터프라이즈 개발의 복잡함

* 자바 엔터프라이즈 프로젝트가 실패하는 이유?
<br>-> 엔터프라이즈 시스템 개발이 너무 복잡해져서
  * 기술적인 제약조건과 요구사항이 늘어남
    * 순수한 비즈니스 로직 구현 외에 기술적으로 고려할 사항이 많음
  * 핵심기능인 비즈니스 로직의 복잡함이 증가함
    * 복잡함과 더불어 비즈니스가 자주 바뀌는 경향이 있음


### 8.2.2 복잡함을 해결하려는 도전

* 기술적인 복잡함과 비즈니스적 복잡함을 해결할 수 있는 전략과 기법이 필요

* 스프링은 비침투적 기술을 이용해서 효과적인 해결책을 제공함


### 8.2.3 복잡함을 상대하는 스프링의 전략

* 기술적 복잡함을 상대하는 전략
  * 문제#1 - 기술에 대한 접근 방식이 일관성이 없고 특정 환경에 종속적
    * **서비스 추상화**를 통해 일관성없는 기술과 서버환경의 변화에 대응
    * 기술적인 복잡함은 추상화를 통해 로우레벨의 기술 구현 부분과 기술을 사용하는 인터페이스를 분리
    * 환경과 세부기술에 독립적인 접근 인터페이스를 제공
    * **템플릿/콜백 패턴**을 통해 반복적인 작업 흐름과 API 사용 코드를 제거
  * 문제#2 - 기술적인 처리를 담당하는 코드가 성격이 다른 코드에 섞여서 등장
    * **AOP**를 통해 기술적인 코드와 비즈니스 로직을 분리
    * 애플리케이션 로직을 담당하는 코드에 남아 있는 기술 관련 코드를 별도의 모듈로 관리

* 비즈니스와 애플리케이션 로직의 복잡함을 상대하는 전략
  * 예전에는 비즈니스 로직의 대부분을 DB에 두는 것이 유행
  * DB에 비즈니스 로직을 두는 건 위험하고 부하를 많이주며 테스트도 어려움
  * 점차 비즈니스 로직은 애플리케이션 안에서 처리하도록 만드는 추세

* 핵심 도구: 객체지향과 DI
  * 기술적인 복잡함을 다루는 방법은 모두 DI를 응용


### 8.3 POJO 프로그래밍

* 스프링의 정수는 엔터프라이즈 서비스 기능을 POJO에 제공하는 것


### 8.3.1 스프링의 핵심 : POJO

* 스프링의 주요 기술: IoC/DI, 서비스 추상화(PSA: Portable Service Abstraction), AOP
<br>-> 애플리케이션을 POJO로 개발할 수 있게 해주는 가능기술(enabling technology)


### 8.3.2 POJO란 무엇인가

* POJO: Plain Old Java Object


### 8.3.3 POJO의 조건

* 특정 규약(Contract)에 종속되지 않음
  * POJO는 자바 언어와 꼭 필요한 API 외에는 종속되지 않아야 함.

* 특정 환경에 종속되지 않음
  * 특정 환경이 의존 대상 검색 방식에 종속적이라면 POJO라 할 수 없음
  * POJO는 환경에 독립적이어야 함.

* POJO란?
<br>객체지향적인 원리에 충실하면서, 환경과 기술에 종속되지 않고 필요에 따라 재활용될 수 있는 방식으로 설계된 오브젝트


### 8.3.4 POJO의 장점

* 특정한 기술과 환경에 종속되지 않는 오브젝트는 코드가 깔끔해짐.

* POJO로 개발된 코드는 자동화된 테스트에 매우 유리

* 객체지향적인 설계를 자유롭게 적용 가능


### 8.4 스프링의 기술


### 8.4.1 제어의 역전(IoC) / 의존관계 주입(DI)

* IoC/DI는 스프링의 가장 기본 기술이자 핵심 개발 원칙

* DI의 활용 방법
  * 핵심기능의 변경
    * 의존 대상의 구현을 자유롭게 변경 가능
  * 핵심기능의 동적인 변경
    * 의존 오브젝트의 핵심기능 자체를 동적으로 자유롭게 변경 가능
  * 부가기능의 추가
    * 데코레이터 패턴을 이용해서 부가기능 추가 가능 ex) 트랜잭션 기능 부여
  * 인터페이스의 변경
    * 클라이언트가 사용하는 인터페이스와 실제 오브젝트 사이의 인터페이스가 일치하지 않을 때도 DI가 유용
    * PSA를 이용해서 클라이언트가 일관되게 사용한 인터페이스를 정의하고
    <br>DI를 통해 어댑터 역할을 하는 오브젝트를 이용할 수 있게 해줌
  * 프록시
    * 필요한 시점에 실제 사용할 오브젝트를 초기화하고 리소스를 준비할 수 있음
  * 템플릿과 콜백
    * 반복적으로 등장하지만 항상 고정적인 작업 흐름과 자주 바뀌는 부분을 분리
  * 싱글톤과 오브젝트 스코프
    * DI할 오브젝트의 생명주기를 제어 가능
    * 무상태 오브젝트가 동시에 여러 스레드의 요청을 처리할 수 있게 하려면 오브젝트 생성 개수를 제어해야 함.
    * 스프링은 컨테이너가 알아서 싱글톤을 만들고 관리하기 때문에 클래스 자체는 싱글톤을 고려하지 않고 설계 가능
  * 테스트
    * 효과적인 테스트를 위해 가능한 한 고립된 테스트를 설계
    * 테스트 수행 시 테스트 스텁이나 목 오브젝트를 DI 가능


### 8.4.2 애스펙트 지향 프로그래밍(AOP)

* AOP는 OOP의 한계와 단점을 극복하도록 도와주는 보조적인 프로그래밍 기술

* AOP의 적용 기법
  * 다이내믹 프록시 사용 ex) 스프링
    * 기존 코드에 영향을 주지 않고 부가기능을 적용하는 데코레이터 패턴의 응용
    * 부가기능을 부여할 수 있는 곳은 메서드의 호출이 일어나는 지점뿐
  * 자바 언어의 한계를 넘어서는 언어의 확장을 이용
    * AspectJ 등을 사용해서 다양한 조인 포인트를 적용

* AOP의 적용 단계
  * 1단계 - 미리 준비된 AOP 이용
    * 트랜잭션, `@Configurable` 등 스프링이 기본으로 제공하는 AOP 적용
  * 2단계 - 전담팀을 통한 정책 AOP 적용
  * 3단계 - AOP의 자유로운 이용


### 8.4.3 포터블 서비스 추상화 (PSA)

* PSA (Portable Service Abstraction)
<br환경과 세부 기술의 변화에 관계없이 일관된 방식으로 기술에 접근가능


### 8.5 정리

* 스프링의 개발철학과 목표를 분명히 이용하고 사용할 것

* 스프링은 오픈소스 프레임워크이며, 애플리케이션 개발의 모든 기술과 영역을 종합적으로 다루는 **애플리케이션 프레임워크**

* 엔터프라이즈 애플리케이션 개발의 복잡함은 기술의 복잡함과 비즈니스의 복잡함으로 발생

* POJO를 이용해서 엔터프라이즈 시스템 개발의 복잡함을 해결 가능

* 스프링의 목적은 POJO를 이용해 엔터프라이즈 애플리케이션을 쉽고 효과적으로 개발할 수 있게 지원하는 것

* POJO 방식의 개발을 돕기 위해 스프링은 IoC/DI, AOP, PSA와 같은 가능기술을 프레임워크와 컨테이너를 통해 제공
